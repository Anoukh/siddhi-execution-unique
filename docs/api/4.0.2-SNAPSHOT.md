# Unique

## timeBatch _(Window)_

<p style="word-wrap: break-word">A batch (tumbling) time window that holds latest unique events according to the unique key parameter, that have arrived during the window time period and gets updated for each window time period.</p>

### Syntax

```
timeBatch(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <INT|LONG|TIME> window.time, <INT> start.time)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.time</td>
        <td valign="top"><p style="word-wrap: break-word">The sliding time period for which the window should hold events.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">start.time</td>
        <td valign="top"><p style="word-wrap: break-word">This specifies an offset in milliseconds in order to start the window at a time different to the standard time.</p></td>
        <td valign="top">0</td>
        <td valign="top">INT</td>
        <td valign="top">Yes</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define stream cseEventStream (symbol string, price float, volume int)
from cseEventStream#window.unique:time(symbol, 1 sec)
select symbol, price, volume
insert all events into outputStream ;
```
<p style="word-wrap: break-word">This will hold unique events arrived from the cseEventStream in every second based on the symbol as a batch and return all events to outputStream  when events have arrived or expired.</p>

## ever _(Window)_

<p style="word-wrap: break-word">A window that holds latest unique events according to the given unique key parameter</p>

### Syntax

```
ever(<INT|LONG|TIME|BOOL|DOUBLE> unique.key)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define stream LoginEvents (timeStamp long, ip string) ;
from LoginEvents#window.unique:ever(ip)
select count(ip) as ipCount, ip 
insert all events into uniqueIps  ;
```
<p style="word-wrap: break-word">This will process latest unique events based on ip that arrived from LoginEvent and return the all events to the outputStream with ip and ipCount.</p>

## length _(Window)_

<p style="word-wrap: break-word">A sliding length window that holds the latest window length unique events according to the unique key parameter and gets updated for each event arrival and expiry.</p>

### Syntax

```
length(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <INT> window.length)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.length</td>
        <td valign="top"><p style="word-wrap: break-word">The number of events that should be included in a sliding length window.</p></td>
        <td valign="top"></td>
        <td valign="top">INT</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define stream cseEventStream (symbol string, price float, volume int)
from cseEventStream#window.unique:length(symbol,10)
select symbol, price, volume
insert all events into outputStram ;
```
<p style="word-wrap: break-word">This will hold latest 10 unique events according to the symbol from cseEventStream and return all events to outputStream when event has arrived or expired.</p>

## firstLengthBatch _(Window)_

<p style="word-wrap: break-word">A batch (tumbling) length window that holds first window length unique events according to the unique key parameter and gets updated on every window length unique events have arrived</p>

### Syntax

```
firstLengthBatch(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <INT> window.length)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.length</td>
        <td valign="top"><p style="word-wrap: break-word">The number of events the window should tumble.</p></td>
        <td valign="top"></td>
        <td valign="top">INT</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define window cseEventWindow (symbol string, price float, volume int) from cseEventStream#window.unique:firstLengthBatch(symbol, 10)
select symbol, price, volume
insert all events into outputStream ;
```
<p style="word-wrap: break-word">This will hold first 10 unique events as a batch from the cseEventWindow based on symbol and return all events to outputStream.</p>

## externalTimeBatch _(Window)_

<p style="word-wrap: break-word">A batch (tumbling) time window based on external time, that holds latest unique events based on the unique key parameter, that arrived during the last window time period according to the the external time stamp, and gets updated on every window time period.</p>

### Syntax

```
externalTimeBatch(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <LONG> time.stamp, <INT|LONG|TIME> window.time, <INT> start.time, <INT|LONG|TIME> timeout)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">time.stamp</td>
        <td valign="top"><p style="word-wrap: break-word"> The time which the window determines as current time and will act upon, the value of this parameter should be monotonically increasing.</p></td>
        <td valign="top"></td>
        <td valign="top">LONG</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.time</td>
        <td valign="top"><p style="word-wrap: break-word">The sliding time period for which the window should hold events.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">start.time</td>
        <td valign="top"><p style="word-wrap: break-word">This specifies an offset in milliseconds in order to start the window at a time different to the standard time.</p></td>
        <td valign="top">0</td>
        <td valign="top">INT</td>
        <td valign="top">Yes</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">timeout</td>
        <td valign="top"><p style="word-wrap: break-word">Time to wait for arrival of new event, before flushing and giving output for events belonging to a specific batch. If timeout is not provided, system waits till an event from next batch arrives to flush current batch.</p></td>
        <td valign="top">0</td>
        <td valign="top">INT<br>LONG<br>TIME</td>
        <td valign="top">Yes</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define stream LoginEvents (timestamp long, ip string) ;
from LoginEvents#window.unique:externalTimeBatch(ip, timestamp, 1 sec, 0, 2 sec) 
select timestamp, ip, count() as total
insert into uniqueIps ;
```
<p style="word-wrap: break-word">This will hold unique events based on the ip that arrived from the cseEventStream in every second according to the external time stamp and return events to outputStream when events have arrived or expired. Also it waits two seconds for the arrival of a new event before flushing current batch.</p>

## firstTimeBatch _(Window)_

<p style="word-wrap: break-word">A batch (tumbling) time window that holds first unique events according to the unique key parameter that have arrived during window time period and gets updated for each window time period.</p>

### Syntax

```
firstTimeBatch(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <INT|LONG|TIME> window.time, <INT> start.time)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.time</td>
        <td valign="top"><p style="word-wrap: break-word">The sliding time period for which the window should hold events.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">start.time</td>
        <td valign="top"><p style="word-wrap: break-word">This specifies an offset in milliseconds in order to start the window at a time different to the standard time.</p></td>
        <td valign="top">0</td>
        <td valign="top">INT</td>
        <td valign="top">Yes</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define stream cseEventStream (symbol string, price float, volume int)
from cseEventStream#window.unique:firstTimeBatch(symbol,1 sec)
 select symbol, price, volume
insert all events into outputStream ;
```
<p style="word-wrap: break-word">This will hold first unique events arrived from the cseEventStream in every second based on the symbolas a batch and out put all events to outputStream when events have arrived or expired.</p>

## first _(Window)_

<p style="word-wrap: break-word">Window that holds only the first unique events that are unique according to the unique key parameter.</p>

### Syntax

```
first(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <INT|LONG|TIME> window.time, <INT> start.time)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.time</td>
        <td valign="top"><p style="word-wrap: break-word">The sliding time period for which the window should hold events.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">start.time</td>
        <td valign="top"><p style="word-wrap: break-word">This specifies an offset in milliseconds in order to start the window at a time different to the standard time.</p></td>
        <td valign="top">0</td>
        <td valign="top">INT</td>
        <td valign="top">Yes</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define stream LoginEvents (timeStamp long, ip string);from LoginEvents#window.unique:first(ip)
insert into uniqueIps ;
```
<p style="word-wrap: break-word">This will return first unique events that arrived from the LoginEvents stream based on ip  and insert into uniqueIps stream</p>

## time _(Window)_

<p style="word-wrap: break-word">A sliding time window that holds latest unique events according to the given unique key parameter  that have arrived during the last window time period and gets updated for each event arrival and expiry.</p>

### Syntax

```
time(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <INT|LONG|TIME> window.time)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.time</td>
        <td valign="top"><p style="word-wrap: break-word">The sliding time period for which the window should hold events.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define stream cseEventStream (symbol string, price float, volume int)
from cseEventStream#window.unique:time(symbol, 1 sec)
select symbol, price, volume
insert expired events into outputStream ;
```
<p style="word-wrap: break-word">This will process latest unique events based on symbol that arrived  within the last second from the cseEventStream and  return the all expired events to the outputStream.</p>

## lengthBatch _(Window)_

<p style="word-wrap: break-word">A batch (tumbling) length window that holds latest window length unique events according to the unique key parameter and gets updated on every window length unique events arrived</p>

### Syntax

```
lengthBatch(<INT|LONG|TIME|BOOL|DOUBLE> unique.key, <INT> window.length)
```

#### Query Parameters

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Default Value</th>
        <th>Possible Types</th>
        <th>Optional</th>
        <th>Dynamic</th>
    </tr>
    <tr>
        <td valign="top">unique.key</td>
        <td valign="top"><p style="word-wrap: break-word">The attribute that should be checked for uniqueness.</p></td>
        <td valign="top"></td>
        <td valign="top">INT<br>LONG<br>TIME<br>BOOL<br>DOUBLE</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
    <tr>
        <td valign="top">window.length</td>
        <td valign="top"><p style="word-wrap: break-word">The number of events the window should tumble.</p></td>
        <td valign="top"></td>
        <td valign="top">INT</td>
        <td valign="top">No</td>
        <td valign="top">No</td>
    </tr>
</table>



### Examples

#### Example 1

```
define window cseEventWindow (symbol string, price float, volume int) from cseEventStream#window.unique:lengthBatch(symbol, 10)
select symbol, price, volume
insert all events into outputStream ;
```
<p style="word-wrap: break-word">This will hold latest 10 unique events as a batch from the cseEventWindow based on symbol and return all events to outputStream.</p>

